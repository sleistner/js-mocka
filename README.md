Shamless port of http://github.com/imedo/jsmock/

Thanks @tkadauke for the awesome code.

Build and test task are heavily influenced by http://github.com/chrisleishman/jsmockito
